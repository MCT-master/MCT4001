<!doctype html>

<html>

<head>
  <meta charset="utf-8">
  <title>algoFM</title>

  <script src="js/jquery-2.1.4.min.js"></script>
  <script type="text/javascript" src="examples/assets/pd-fileutils.js"></script>
  <script src="js/webpd-latest.min.js"></script>
  <script type="text/javascript" src="examples/assets/examples.js"></script>

</head>

<body>
  <div id="loading">Loading ...</div>

  <div id="des">This is a simple patch that runs on the browser via the WebPd framework.
    <br />The main sound synthesis is based on frequency modulation (FM) and control signals are generated
    algorithmically.<br />

  </div>
  <div>
    Download the patch from <a href="https://github.com/MCT-master/MCT4001" target="_blank">MCT4001</a>
  </div>

  <div>
    <br />You can read some essentials of HTML <a href="info.html" target="_blank">here.</a><br />
  </div>


  <br />

  <button id="startButton">Start!</button>

  <div id="controls">
    <form id="mod_ctrl_form">
      <input type="text" id="modVal" />
      <input value="Set max Modulator frequency" type="submit" id="setModFreq" />
    </form>
    <!-- <form id="carrier_ctrl_form">
      <input type="text" id="carrVal" />
      <input value="Set max Carrier frequency" type="submit" id="setCarrFreq" />
    </form> -->
  </div>

  <div id="svg"></div>
  </div>
  <script type="text/javascript">
    webPdExamples.init()

    $('form').submit(function (event) {
      event.preventDefault()
      var freq_mod = parseFloat($('#modVal').val())
      Pd.send(patch.patchId + '-modFq', [freq_mod])
    })

    var patch
    $.get('patches/algoFM.pd', function (mainStr) {
      // Loading the patch
      patch = Pd.loadPatch(mainStr)

      webPdExamples.patchLoaded(mainStr)
    })

  </script>
</body>

</html>