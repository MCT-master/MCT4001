#N canvas 373 1509 702 519 12;
#X msg 537 374 \; pd dsp \$1;
#X obj 540 351 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#N canvas 1008 606 720 210 r~ 0;
#X obj 28 164 dac~, f 17;
#X text 283 94 FDN-reverb \, check "EXTRA" in List of objects from
Help menu.;
#X obj 199 94 rev3~ 95 55;
#X obj 28 21 catch~ l;
#X obj 144 23 catch~ r;
#X connect 2 0 0 0;
#X connect 2 1 0 1;
#X connect 3 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 0 1;
#X connect 4 0 2 1;
#X restore 567 350 pd r~;
#X text 197 225 -----------------------------------------------------------
;
#X text 197 243 -----------------------------------------------------------
;
#N canvas 108 184 1275 546 groupWork 1;
#X text 103 65 Work in teams:;
#X text 124 99 A) Make a WebPd patch that combines the modules that
you like the most in your individual projects.;
#X text 121 145 B) Add more interactive controls to the WebPd patch
(class example) \, such as the carrier frequency \, modulation amount
\, etc.;
#X restore 106 234 pd groupWork;
#X text 516 421 MCT4001 Pd Session 11 7 November 2022, f 21;
#N canvas 550 255 742 526 pitch_detect 0;
#X obj 105 65 adc~;
#X obj 105 122 *~;
#X obj 172 21 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 #00faff
#000000 #000000 0 1;
#X obj 172 157 pack 0 50;
#X obj 172 181 line~;
#X obj 105 209 hip~ 80;
#X obj 105 233 hip~ 80;
#X obj 105 257 lop~ 350;
#X obj 105 281 lop~ 350;
#X obj 105 329 mtof;
#X obj 169 370 > 1;
#X obj 105 433 gate;
#X obj 105 457 print pitch;
#X obj 105 305 sigmund~ -hop 4096 pitch;
#X text 289 398 The hop size (number of samples between each successive
FFT window) of Fast Fourier transforms performed is equal to the size
of the Fast Fourier transform divided by the overlap factor (e.g. if
the frame size is 512 and the overlap is set to 2 then the hop size
is 256 samples).;
#X text 293 306 The example below specifies a huge hop of 4096 (to
slow the output down) and to output "pitch" and "env" (the default
outputs).;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 1 1;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 13 0;
#X connect 9 0 10 0;
#X connect 9 0 11 0;
#X connect 10 0 11 1;
#X connect 11 0 12 0;
#X connect 13 0 9 0;
#X restore 105 69 pd pitch_detect;
#X text 79 69 1a);
#X text 231 69 1b);
#N canvas 733 264 804 825 env_detect 0;
#X obj 105 65 adc~;
#X obj 105 122 *~;
#X obj 172 21 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 #00faff
#000000 #000000 0 1;
#X obj 172 157 pack 0 50;
#X obj 172 181 line~;
#X obj 45 321 sigmund~ -hop 4096 env;
#X floatatom 44 358 5 0 0 0 - - - 0;
#X floatatom 250 398 8 0 0 0 - - - 0;
#X text 317 398 <= the output is RMS amplitude which (for a sinusoid)
is about 3 dB below peak-to-peak amplitude., f 53;
#X obj 251 466 vu 15 120 empty empty -1 -8 0 10 #404040 #000000 1 0
;
#X obj 250 433 - 100;
#X text 365 346 - window size in samples (1024 default);
#X text 365 364 - period in samples per analysis (window/2 default)
;
#X obj 44 464 vu 15 120 empty empty -1 -8 0 10 #404040 #000000 1 0
;
#X obj 43 431 - 100;
#X obj 250 354 env~ 4096;
#X obj 36 676 pdcontrol;
#X msg 36 649 browse http://msp.ucsd.edu/techniques/v0.11/book-html/node158.html
, f 69;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 1 0 15 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 1 1;
#X connect 5 0 6 0;
#X connect 6 0 14 0;
#X connect 7 0 10 0;
#X connect 10 0 9 0;
#X connect 14 0 13 0;
#X connect 15 0 7 0;
#X connect 17 0 16 0;
#X restore 263 68 pd env_detect;
#X text 76 183 3);
#X text 77 128 2);
#N canvas 121 146 450 300 WebPd 0;
#X text 68 122 Open /Pd_Session11 folder on a text editor!;
#X restore 105 184 pd WebPd;
#X text 78 235 4);
#X text 79 291 5) Discussion;
#X obj 106 128 normalize;
#X obj 205 128 minimum;
#X obj 294 129 maximum;
#X text 380 70 1c);
#N canvas 683 380 824 395 attack_detect 0;
#X obj 182 51 loadbang;
#X obj 35 43 adc~;
#X obj 161 253 bonk~;
#X msg 180 154 thresh 2.5 10;
#X msg 306 124 minvel \$1;
#X obj 161 283 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X text 359 79 Minimum "velocity" to output (quieter notes are ignored.)
;
#X text 216 233 The Bonk object takes an audio signal input and looks
for "attacks" defined as sharp changes in the spectral envelope of
the incoming sound., f 47;
#N canvas 767 459 1024 722 firefly 0;
#X obj 147 350 phasor~ 1;
#X obj 113 156 snapshot~;
#X obj 198 263 t f f;
#X obj 225 286 * 0.1;
#X obj 198 308 + 0.1;
#X text 168 381 find edge~;
#X obj 171 205 expr if ($f1 > 0.98 \, 0 \, if ($f1 < 0.02 \, 0 \, $f1))
\;;
#X obj 171 230 sel 0;
#X obj 149 449 threshold~ 0.99 10 0.6 0;
#X obj 242 356 > 1;
#X obj 249 412 sel 1;
#X obj 726 525 *~;
#X obj 682 382 +~;
#X obj 682 353 *~ 30;
#X obj 682 324 osc~ 500;
#X msg 682 271 \$1 1;
#X obj 741 448 *~;
#X obj 756 411 +~ 0.8;
#X obj 756 388 *~ 0.2;
#X obj 682 411 osc~ 500;
#X obj 756 364 osc~ 7;
#X obj 682 294 line~;
#X obj 682 250 mtof;
#X obj 682 165 random 5;
#X obj 655 131 t b b;
#X obj 682 190 sel 0 1 2 3 4;
#X msg 682 216 72;
#X msg 706 216 74;
#X msg 730 216 76;
#X msg 754 216 79;
#X msg 778 216 81;
#X text 747 332 FM synth;
#X text 748 169 Pentatonic;
#X obj 634 94 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X obj 655 495 vline~;
#X msg 459 441 0 0 0 \, 0.4 1 0 \, 0 400 2;
#X obj 805 533 *~;
#X obj 872 432 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 #00faff
#000000 #000000 0 1;
#X obj 872 568 pack 0 50;
#X obj 872 592 line~;
#X obj 785 632 throw~ r;
#X obj 756 592 throw~ l;
#X obj 77 58 inlet;
#X obj 164 92 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X text 81 599 algorithm by Kristian Nymoen;
#X msg 84 641 browse https://ieeexplore.ieee.org/document/6981832;
#X obj 84 665 pdcontrol;
#X connect 0 0 1 0;
#X connect 0 0 8 0;
#X connect 1 0 6 0;
#X connect 2 0 4 0;
#X connect 2 1 3 0;
#X connect 3 0 4 1;
#X connect 4 0 0 1;
#X connect 4 0 9 0;
#X connect 6 0 7 0;
#X connect 7 1 2 0;
#X connect 8 0 33 0;
#X connect 9 0 10 0;
#X connect 10 0 33 0;
#X connect 11 0 36 0;
#X connect 12 0 19 0;
#X connect 13 0 12 0;
#X connect 14 0 13 0;
#X connect 15 0 21 0;
#X connect 16 0 11 1;
#X connect 17 0 16 1;
#X connect 18 0 17 0;
#X connect 19 0 16 0;
#X connect 20 0 18 0;
#X connect 21 0 14 0;
#X connect 21 0 12 1;
#X connect 22 0 15 0;
#X connect 23 0 25 0;
#X connect 24 0 35 0;
#X connect 24 1 23 0;
#X connect 25 0 26 0;
#X connect 25 1 27 0;
#X connect 25 2 28 0;
#X connect 25 3 29 0;
#X connect 25 4 30 0;
#X connect 26 0 22 0;
#X connect 27 0 22 0;
#X connect 28 0 22 0;
#X connect 29 0 22 0;
#X connect 30 0 22 0;
#X connect 33 0 24 0;
#X connect 34 0 11 0;
#X connect 35 0 34 0;
#X connect 36 0 41 0;
#X connect 36 0 40 0;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 39 0 36 1;
#X connect 42 0 43 0;
#X connect 43 0 1 0;
#X connect 45 0 46 0;
#X restore 160 340 pd firefly;
#X msg 305 95 3;
#X connect 0 0 3 0;
#X connect 0 0 9 0;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 8 0;
#X connect 9 0 4 0;
#X restore 414 71 pd attack_detect;
#N canvas 614 331 1077 898 score_example 0;
#X obj 154 48 metro 1000;
#X obj 154 27 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X floatatom 142 141 5 0 0 0 - - - 0;
#X floatatom 845 157 5 0 0 0 - - - 0;
#X floatatom 846 96 5 0 0 0 - - - 0;
#X obj 848 124 expr 60000 / $f1;
#X obj 845 184 s bpm;
#X text 894 91 BPM to ms converter;
#X msg 801 207 \; voice1-on 0 \; voice2-on 0 \; voice3-on 0 \; voice4-on
0 \; v1-pitch-min 2 \; v2-pitch-min 4 \; v3-pitch-min 0 \; v1-pitch-range
8 \; v2-pitch-range 4 \; v3-pitch-range 15 \; v1-base-pitch 60 \; v2-base-pitch
72 \; v3-base-pitch 60 \; tempo 60 \; scale major-scale \; velocity-min
70 \; velocity-range 30 \; wind-vol 0 \; counter-onOff 0 \; pd dsp
0;
#X msg 38 217 \; voice1-on 0 \; voice2-on 0 \; voice3-on 0 \; voice4-on
1 \; v1-pitch-min 0 \; v2-pitch-min 0 \; v3-pitch-min 0 \; v1-pitch-range
8 \; v2-pitch-range 8 \; v3-pitch-range 8 \; v1-base-pitch 60 \; v2-base-pitch
72 \; v3-base-pitch 60 \; tempo 120 \; scale major-scale \; velocity-min
70 \; velocity-range 30 \; wind-vol 1 \; counter-onOff 1 \; pd dsp
1;
#X obj 311 198 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X msg 165 483 \; voice1-on 1 \; voice2-on 0 \; voice3-on 0 \; voice4-on
1 \; v1-pitch-min 2 \; v2-pitch-min 4 \; v3-pitch-min 0 \; v1-pitch-range
8 \; v2-pitch-range 4 \; v3-pitch-range 15 \; v1-base-pitch 60 \; v2-base-pitch
72 \; v3-base-pitch 60 \; tempo 60 \; scale major-scale \; velocity-min
70 \; velocity-range 30 \; wind-vol 1 \; pd dsp 1;
#X obj 39 191 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X obj 162 190 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 181 190 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 336 189 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 458 189 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 488 188 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 801 184 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X msg 181 209 \; voice1-on 1 \; voice2-on 1 \; voice3-on 0 \; voice4-on
1 \; v1-pitch-min 2 \; v2-pitch-min 4 \; v3-pitch-min 0 \; v1-pitch-range
8 \; v2-pitch-range 4 \; v3-pitch-range 15 \; v1-base-pitch 60 \; v2-base-pitch
72 \; v3-base-pitch 60 \; tempo 60 \; scale major-scale \; velocity-min
70 \; velocity-range 30 \; wind-vol 0.5 \; pd dsp 1;
#X msg 311 489 \; voice1-on 1 \; voice2-on 1 \; voice3-on 1 \; voice4-on
0 \; v1-pitch-min 2 \; v2-pitch-min 4 \; v3-pitch-min 0 \; v1-pitch-range
8 \; v2-pitch-range 4 \; v3-pitch-range 15 \; v1-base-pitch 60 \; v2-base-pitch
72 \; v3-base-pitch 60 \; tempo 60 \; scale major-scale \; velocity-min
70 \; velocity-range 30 \; wind-vol 0 \; pd dsp 1;
#X msg 336 210 \; voice1-on 1 \; voice2-on 1 \; voice3-on 1 \; voice4-on
0 \; v1-pitch-min 0 \; v2-pitch-min 0 \; v3-pitch-min 4 \; v1-pitch-range
7 \; v2-pitch-range 12 \; v3-pitch-range 13 \; v1-base-pitch 60 \;
v2-base-pitch 72 \; v3-base-pitch 60 \; tempo 60 \; scale major-scale
\; velocity-min 80 \; velocity-range 20 \; wind-vol 0 \; pd dsp 1;
#X obj 611 185 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 637 187 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X obj 770 186 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X msg 458 491 \; voice1-on 1 \; voice2-on 1 \; voice3-on 1 \; voice4-on
1 \; v1-pitch-min 0 \; v2-pitch-min 0 \; v3-pitch-min 4 \; v1-pitch-range
8 \; v2-pitch-range 13 \; v3-pitch-range 6 \; v1-base-pitch 57 \; v2-base-pitch
69 \; v3-base-pitch 57 \; tempo 60 \; scale harmonic-minor \; velocity-min
50 \; velocity-range 50 \; wind-vol 0.5 \; pd dsp 1;
#X obj 309 160 select 1 9 17 25 33 41 49 57 61 65 69;
#X msg 487 214 \; voice1-on 1 \; voice2-on 1 \; voice3-on 1 \; voice4-on
1 \; v1-pitch-min 0 \; v2-pitch-min 2 \; v3-pitch-min 4 \; v1-pitch-range
15 \; v2-pitch-range 9 \; v3-pitch-range 6 \; v1-base-pitch 48 \; v2-base-pitch
72 \; v3-base-pitch 60 \; tempo 60 \; scale harmonic-minor \; velocity-min
50 \; velocity-range 40 \; wind-vol 0.5 \; pd dsp 1;
#X msg 611 491 \; voice1-on 1 \; voice2-on 1 \; voice3-on 1 \; voice4-on
1 \; v1-pitch-min 0 \; v2-pitch-min 2 \; v3-pitch-min 4 \; v1-pitch-range
15 \; v2-pitch-range 9 \; v3-pitch-range 6 \; v1-base-pitch 48 \; v2-base-pitch
72 \; v3-base-pitch 60 \; tempo 57 \; scale major-scale \; velocity-min
65 \; velocity-range 40 \; wind-vol 0.6 \; pd dsp 1;
#X msg 637 215 \; voice1-on 1 \; voice2-on 1 \; voice3-on 1 \; voice4-on
1 \; v1-pitch-min 0 \; v2-pitch-min 0 \; v3-pitch-min 4 \; v1-pitch-range
15 \; v2-pitch-range 9 \; v3-pitch-range 6 \; v1-base-pitch 48 \; v2-base-pitch
72 \; v3-base-pitch 60 \; tempo 54 \; scale major-scale \; velocity-min
60 \; velocity-range 20 \; wind-vol 0.7 \; pd dsp 1;
#X msg 770 495 \; voice1-on 1 \; voice2-on 1 \; voice3-on 1 \; voice4-on
1 \; v1-pitch-min 0 \; v2-pitch-min 2 \; v3-pitch-min 4 \; v1-pitch-range
15 \; v2-pitch-range 9 \; v3-pitch-range 6 \; v1-base-pitch 48 \; v2-base-pitch
72 \; v3-base-pitch 60 \; tempo 54 \; scale major-scale \; velocity-min
90 \; velocity-range 20 \; wind-vol 1 \; pd dsp 1;
#X obj 159 82 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X obj 159 103 f 0;
#X obj 221 107 + 1;
#X msg 247 69 0;
#X text 297 841 (a score example from "algorithmiccomposer.com";
#X connect 0 0 31 0;
#X connect 1 0 0 0;
#X connect 2 0 26 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 10 0 20 0;
#X connect 12 0 9 0;
#X connect 13 0 11 0;
#X connect 14 0 19 0;
#X connect 15 0 21 0;
#X connect 16 0 25 0;
#X connect 17 0 27 0;
#X connect 18 0 8 0;
#X connect 22 0 28 0;
#X connect 23 0 29 0;
#X connect 24 0 30 0;
#X connect 26 0 12 0;
#X connect 26 1 13 0;
#X connect 26 2 14 0;
#X connect 26 3 10 0;
#X connect 26 4 15 0;
#X connect 26 5 16 0;
#X connect 26 6 17 0;
#X connect 26 7 22 0;
#X connect 26 8 23 0;
#X connect 26 9 24 0;
#X connect 26 10 18 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 32 0 2 0;
#X connect 33 0 32 1;
#X connect 34 0 32 1;
#X restore 117 364 pd score_example;
#N canvas 563 159 1108 691 randomized_synth 0;
#X obj 116 64 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 116 84 metro 5;
#X obj 116 108 f;
#X obj 152 110 + 1;
#X obj 152 134 mod 32;
#X obj 117 193 tabread wtable;
#X obj 117 248 pack;
#X floatatom 172 53 5 0 100 0 - - - 0;
#X msg 117 272 \$1 \$2;
#X obj 117 296 vline~;
#X obj 230 225 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 #00faff
#000000 #000000 0 1;
#X obj 230 361 pack 0 50;
#X obj 230 385 line~;
#X obj 120 393 *~;
#X obj 113 427 throw~ l;
#X obj 188 435 throw~ r;
#X obj 373 88 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X obj 374 160 expr $f1 * 2 - 1;
#X floatatom 374 184 5 0 0 0 - - - 0;
#X obj 374 207 tabwrite wtable;
#N canvas 0 22 450 278 (subpatch) 0;
#X array wtable 16 float 3;
#A 0 0.638 -0.622 -0.35 0.372 0.552 0.312 -0.446 0.054 -0.1 0.612 0.922
-0.492 -0.922 0.0940001 0.922 0.19;
#X coords 0 1 16 -1 400 280 1 0 0;
#X restore 641 43 graph;
#X obj 372 58 spigot;
#X obj 433 61 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 121 324 lop~ 2500;
#X obj 532 181 random 32;
#X obj 373 108 random 1000;
#X obj 374 131 * 0.001;
#X text 43 630 (adapted from Andrew Brown);
#X text 378 511 delay time;
#X floatatom 337 508 5 0 0 0 - - - 0;
#X obj 700 372 vsl 15 128 0 1 0 0 empty empty Feedback\\\ gain 0 -9
0 10 #9c00ff #000000 #000000 0 1;
#X obj 697 531 pack 0 50;
#X obj 697 555 line~;
#X obj 597 469 *~;
#X obj 337 420 delwrite~ glitch1 2000;
#X obj 337 534 delread~ glitch1 250;
#X obj 69 364 rev3~ 90 90 2000 30;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 21 0;
#X connect 2 0 3 0;
#X connect 2 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 2 1;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 7 0 1 1;
#X connect 7 0 6 1;
#X connect 8 0 9 0;
#X connect 9 0 23 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 1;
#X connect 13 0 15 0;
#X connect 13 0 14 0;
#X connect 16 0 24 0;
#X connect 16 0 25 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 21 0 16 0;
#X connect 22 0 21 1;
#X connect 23 0 34 0;
#X connect 23 0 36 0;
#X connect 24 0 19 1;
#X connect 25 0 26 0;
#X connect 26 0 17 0;
#X connect 29 0 35 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 32 0 33 1;
#X connect 33 0 34 0;
#X connect 35 0 33 0;
#X connect 35 0 13 0;
#X connect 36 0 13 0;
#X restore 283 365 pd randomized_synth;
#X text 84 364 6a);
#X text 253 364 6b);
#X text 64 331 Extras:;
#X connect 1 0 0 0;
