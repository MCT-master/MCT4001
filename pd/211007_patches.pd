#N canvas 296 23 715 718 12;
#X text 80 141 Substractive synthesis;
#X text 166 170 Karplus-Strong;
#X text 165 200 "Percussion" instruments;
#X text 166 226 Drum machine;
#X text 77 376 Feedback modulation;
#X text 75 350 Comb filter;
#X text 77 314 Filterbank decomposition;
#X obj 359 198 kick;
#X obj 406 198 snare;
#X obj 456 198 hats;
#X obj 304 349 comb 80 0.8;
#N canvas 37 23 1371 738 karplusStrong 0;
#X obj 52 130 noise~;
#X obj 87 179 *~;
#X msg 107 129 1 20 \, 0 30 20;
#X text 28 13 noise(env) -> delay -> fb/filter -> output;
#X obj 86 212 delwrite~ \$0-karplus 500;
#X floatatom 338 44 5 0 0 0 - - -;
#X obj 338 66 mtof;
#X floatatom 338 89 8 0 0 0 - - -;
#X text 387 45 MIDI note number;
#X text 420 90 Frequency;
#X obj 338 111 expr 1000 / $f1;
#X floatatom 338 134 5 0 0 0 - - -;
#X obj 338 156 delread4~ \$0-karplus;
#X obj 339 202 lop~ 10000;
#X obj 340 228 *~ 0.25;
#X obj 341 297 dac~;
#X obj 239 39 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 239 59 t b b;
#X obj 107 151 vline~;
#X obj 338 179 *~ 0.99;
#X obj 538 288 f \$0;
#X obj 538 267 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X floatatom 538 311 5 0 0 0 - - -;
#X obj 340 261 comb 80 0.8;
#X floatatom 414 236 5 0 0 0 - - -;
#X text 472 10 Plucked string synthesis;
#X text 469 334 Find the unique number of \$0;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 2 0 18 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 19 0;
#X connect 13 0 4 0;
#X connect 13 0 14 0;
#X connect 14 0 23 0;
#X connect 16 0 17 0;
#X connect 17 0 2 0;
#X connect 17 1 5 0;
#X connect 18 0 1 1;
#X connect 19 0 13 0;
#X connect 20 0 22 0;
#X connect 21 0 20 0;
#X connect 23 0 15 0;
#X connect 23 0 15 1;
#X connect 24 0 23 1;
#X restore 359 164 pd karplusStrong;
#N canvas 39 107 997 579 drumMachine 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-sequence 16 float 3;
#A 0 0 1 2 3 4 5 6 0 1 2 3 4 5 6 0 1;
#X coords 0 6 16 0 200 140 1 0 0;
#X restore 408 23 graph;
#X text 406 182 0 = kick \, 1 = snare \, 2 = hats \, 3 = k/s \, 4 =
k/h \, 5 = s/h \, 6 = k/s/h;
#X obj 413 295 loadbang;
#X obj 414 360 array set \$0-sequence;
#X msg 414 327 0 1 2 3 4 5 6 0 1 2 3 4 5 6 0 1;
#X obj 53 44 counter16;
#X obj 52 13 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X floatatom 112 20 5 0 0 0 - - -;
#X obj 56 79 hsl 128 15 0 15 0 0 empty empty Step -2 -8 0 10 -262144
-1 -1 0 1;
#X floatatom 53 99 5 0 0 0 - - -;
#X obj 53 121 array get \$0-sequence;
#X msg 125 97 1;
#X floatatom 53 169 5 0 0 0 - - -;
#N canvas 56 23 790 489 truncate 0;
#X floatatom 55 61 5 0 0 0 - - -;
#X obj 55 83 + 0.5;
#X obj 55 106 int;
#X obj 46 24 inlet;
#X obj 55 129 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 0 0;
#X restore 53 146 pd truncate;
#X obj 53 191 select 0 1 2 3 4 5 6;
#X obj 52 240 kick;
#X obj 99 240 snare;
#X obj 156 239 hats;
#X floatatom 203 190 5 0 0 0 - - -;
#X floatatom 247 190 5 0 0 0 - - -;
#X floatatom 289 190 5 0 0 0 - - -;
#X obj 116 295 +~;
#X obj 116 318 dac~;
#X obj 148 60 hradio 15 1 0 16 empty empty Radiobutton 0 -8 0 10 -262144
-1 -1 13;
#X msg 487 294 3 3 4 4 5 5 6 6 1 1 2 2 5 6 3 2;
#X obj 403 461 expr;
#X text 444 462 -> mathematical expression;
#X text 409 267 Patterns to define to array;
#X connect 2 0 4 0;
#X connect 4 0 3 0;
#X connect 5 0 8 0;
#X connect 5 0 23 0;
#X connect 6 0 5 0;
#X connect 7 0 5 1;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 13 0;
#X connect 11 0 10 1;
#X connect 12 0 14 0;
#X connect 13 0 12 0;
#X connect 14 0 15 0;
#X connect 14 1 16 0;
#X connect 14 2 17 0;
#X connect 14 3 15 0;
#X connect 14 3 16 0;
#X connect 14 4 15 0;
#X connect 14 4 17 0;
#X connect 14 5 16 0;
#X connect 14 5 17 0;
#X connect 14 6 15 0;
#X connect 14 6 16 0;
#X connect 14 6 17 0;
#X connect 15 0 21 0;
#X connect 16 0 21 0;
#X connect 17 0 21 0;
#X connect 18 0 15 1;
#X connect 19 0 16 1;
#X connect 20 0 17 1;
#X connect 21 0 22 0;
#X connect 21 0 22 1;
#X connect 24 0 3 0;
#X restore 357 229 pd drumMachine;
#N canvas 0 23 1333 681 filterbank-ish 0;
#X text 582 12 8 octave filterbank \, P. Cook (2002) "Real sound synthesis
for interactive applications";
#X text 37 194 43-86 hz;
#N canvas 0 0 450 300 (subpatch) 0;
#X array E01-signal 882 float 0;
#X coords 0 5 882 -5 200 130 1;
#X restore 922 276 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array E01-spectrum 128 float 0;
#X coords 0 4300 127 -40 257 130 1;
#X restore 886 474 graph;
#N canvas 1197 236 525 608 fft 0;
#X obj 45 77 inlet~;
#X obj 111 229 inlet;
#X obj 45 107 rfft~;
#X obj 45 140 *~;
#X obj 76 140 *~;
#X obj 45 170 sqrt~;
#X obj 111 263 tabwrite~ E01-spectrum;
#X obj 332 109 block~ 4096 1;
#X obj 45 196 biquad~ 0 0 0 0 1;
#X text 109 108 Fourier series;
#X text 114 161 magnitude;
#X text 112 146 calculate;
#X text 38 9 This subpatch computes the spectrum of the incoming signal
with a (rectangular windowed) FFT. FFTs aren't properly introduced
until much later.;
#X text 109 77 signal to analyze;
#X text 181 188 delay two samples;
#X text 180 204 for better graphing;
#X obj 106 433 samplerate~;
#X obj 106 410 bng 18 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X floatatom 106 480 5 0 0 0 - - -;
#X obj 106 456 / 256;
#X obj 106 386 loadbang;
#X floatatom 106 549 5 0 0 0 - - -;
#X obj 114 502 s fundamental;
#X obj 106 525 ftom;
#X text 31 314 At load time \, calculate a good choice of fundamental
frequency for showing spectra: the 16th bin in a 4096-point spectrum
\, so SR*16/4096 or SR/256., f 62;
#X text 161 231 "bang" into this inlet to graph it;
#X text 148 549 <= just out of curiosity \, here's the pitch;
#X connect 0 0 2 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 2 1 4 0;
#X connect 2 1 4 1;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 5 0 8 0;
#X connect 8 0 6 0;
#X connect 16 0 19 0;
#X connect 17 0 16 0;
#X connect 18 0 22 0;
#X connect 18 0 23 0;
#X connect 19 0 18 0;
#X connect 20 0 17 0;
#X connect 23 0 21 0;
#X restore 636 437 pd fft;
#X text 950 410 ---- 0.02 seconds ----;
#X obj 696 437 tabwrite~ E01-signal;
#X text 1009 246 WAVEFORM;
#X text 979 452 SPECTRUM;
#X text 781 405 <= click to graph;
#X msg 53 68 1;
#X msg 134 65 open msdos.wav;
#X obj 697 375 metro 100;
#X obj 699 351 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 118 111 readsf~ 1;
#X obj 198 416 *~ 0.5;
#X obj 199 447 dac~;
#X obj 198 376 *~ 1;
#X msg 247 65 open piano.wav;
#X obj 758 404 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 821 207 From: helpbrowser/Pure Data/3.audio.examples/E01.spectrum.pd
;
#X obj 597 230 bp~ 8250 2;
#X obj 512 229 bp~ 4150 2;
#X obj 427 228 bp~ 2100 2;
#X obj 344 228 bp~ 1050 2;
#X obj 254 226 bp~ 522.5 2;
#X obj 166 224 bp~ 258.5 2;
#X obj 94 222 bp~ 129 2;
#X obj 22 222 bp~ 64 2;
#X text 191 112 Reads soundfile from disk;
#X msg 89 67 0;
#X msg 362 65 open chime_441.wav;
#X text 238 42 File must be in same folder as patch;
#X text 724 348 <= continuous graphing;
#X connect 10 0 14 0;
#X connect 11 0 14 0;
#X connect 12 0 4 1;
#X connect 12 0 6 0;
#X connect 13 0 12 0;
#X connect 14 0 21 0;
#X connect 14 0 22 0;
#X connect 14 0 23 0;
#X connect 14 0 24 0;
#X connect 14 0 25 0;
#X connect 14 0 26 0;
#X connect 14 0 27 0;
#X connect 14 0 28 0;
#X connect 15 0 16 0;
#X connect 15 0 16 1;
#X connect 17 0 6 0;
#X connect 17 0 15 0;
#X connect 17 0 4 0;
#X connect 18 0 14 0;
#X connect 19 0 4 1;
#X connect 19 0 6 0;
#X connect 21 0 17 0;
#X connect 22 0 17 0;
#X connect 23 0 17 0;
#X connect 24 0 17 0;
#X connect 25 0 17 0;
#X connect 26 0 17 0;
#X connect 27 0 17 0;
#X connect 28 0 17 0;
#X connect 30 0 14 0;
#X connect 31 0 14 0;
#X restore 304 313 pd filterbank-ish;
#N canvas 272 111 1526 801 fbMod 0;
#X msg 107 33 1;
#X msg 184 17 open msdos.wav;
#X obj 172 76 readsf~ 1;
#X msg 297 16 open piano.wav;
#X text 242 70 Reads soundfile from disk;
#X msg 143 32 0;
#X obj 225 144 *~;
#X obj 230 327 *~;
#X obj 230 358 dac~;
#X floatatom 250 119 5 0 0 0 - - -;
#X obj 253 99 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 20700 1;
#X obj 253 176 delwrite~ \$0-feedback 1000;
#X obj 330 239 delread~ \$0-feedback 10;
#X obj 330 262 *~;
#X floatatom 330 218 5 0 0 0 - - -;
#X floatatom 367 287 5 0 0 0 - - -;
#X obj 407 263 hsl 128 15 0.03 3 1 0 empty empty empty -2 -8 0 10 -262144
-1 -1 18000 1;
#X floatatom 287 341 5 0 0 0 - - -;
#X obj 291 321 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X text 390 98 Amplitude from source;
#X text 329 340 Amplitude to dac;
#X text 446 174 Write to delay line;
#X text 497 239 Read from delay line;
#X text 47 263 Send to dac and back to delay input ->;
#X connect 0 0 2 0;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 3 0 2 0;
#X connect 5 0 2 0;
#X connect 6 0 7 0;
#X connect 6 0 11 0;
#X connect 7 0 8 0;
#X connect 7 0 8 1;
#X connect 9 0 6 1;
#X connect 10 0 9 0;
#X connect 12 0 13 0;
#X connect 13 0 7 0;
#X connect 13 0 11 0;
#X connect 14 0 12 0;
#X connect 15 0 13 1;
#X connect 16 0 15 0;
#X connect 17 0 7 1;
#X connect 18 0 17 0;
#X restore 306 379 pd fbMod;
#X text 92 34 Extra session \, 211007;
#X text 81 541 SoX (commandline magic for audio): http://sox.sourceforge.net/
;
